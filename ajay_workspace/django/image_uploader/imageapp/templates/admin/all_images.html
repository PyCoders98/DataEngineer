{% extends "base.html" %}
{% block content %}
  <div class="max-w-6xl mx-auto">
    
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
      {% for i in data %}
        <!-- Image card (replace with your dynamic data) -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden relative">
          <img src="/media/{{ i.image }}"
               alt="{{ i.desc }}"
               class="w-full h-48 object-cover rounded-t-lg">
          <div class="p-4">
            <h2 class="text-lg font-semibold">{{ i.title }}</h2>
            <p class="text-gray-600 mt-2">{{ i.desc }}</p>
          </div>
          <div class="absolute bottom-0 left-0 right-0 bg-white p-2 flex justify-between">
            <a href="{% url 'confirmation_page' i.id %}"
               class="text-gray-500 hover:text-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg"
                   class="h-6 w-6 inline-block"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
              Delete
            </a>
            <a href="{% url 'edit_image' i.id %}"
               class="text-gray-500 hover:text-gray-700">
              <svg xmlns="http://www.w3.org/2000/svg"
                   class="h-6 w-6 inline-block"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0zm0 0v4m0 0H9m6 0h2m-2-4h.01" />
              </svg>
              Update
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  <script>
    // JavaScript to remove messages after 5 seconds
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        {% for message in messages %}
        var messageElement = document.getElementById('message-{{ forloop.counter }}');
        if (messageElement) {
          messageElement.remove();
        }
        {% endfor %}
      }, 5000); // 5000 milliseconds = 5 seconds
    });
  </script>
{% endblock %}
