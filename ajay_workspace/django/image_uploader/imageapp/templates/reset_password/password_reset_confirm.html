{% extends "base.html" %}
{% block style %}
.password-input {
    position: relative;
}

.password-input input[type="password"],
.password-input input[type="text"] {
    width: 100%;
}

.password-input .toggle-password {
    position: absolute;
    right: 0;
    top: 50%;
    cursor: pointer;
    padding: 0 10px;
}
{% endblock style %}
{%block content%}

<div class="mt-3 flex justify-center ">
    <div class="max-w-md w-full bg-white p-4 shadow-md rounded-md">
        <h1 class="text-3xl font-semibold mb-4">Reset Your Password</h1>
        {% if validlink %}
        <p class="mb-4">Please enter your new password</p>
        <form action="." method="post">
            {{ form.non_field_errors }}
            <div class="mb-4 password-input">
                <label for="id_new_password1" class="block text-sm font-medium text-gray-700">New Password</label>
                {{ form.new_password1 }}
                <i class="fas fa-eye toggle-password " onclick="togglePassword('id_new_password1')"></i>
            </div>
            <div class="mb-4 password-input">
                <label for="id_new_password2" class="block text-sm font-medium text-gray-700">Confirm Password</label>
                {{ form.new_password2 }}
                <i class="fas fa-eye toggle-password" onclick="togglePassword('id_new_password2')"></i>
            </div>
            {% csrf_token %}
            <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md">Change My Password</button>
        </form>

        {% else %}
        <p class="text-red-500">Link is invalid. Please try again.</p>
        {% endif %}
    </div>
</div>

    <script>
        function togglePassword(id) {
            const passwordField = document.getElementById(id);
            const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordField.setAttribute('type', type);
        }
    </script>
{%endblock%}